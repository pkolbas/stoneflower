# üåø Stoneflower

PWA "–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä —Å –¥–æ–º–∞—à–Ω–∏–º–∏ —Ä–∞—Å—Ç–µ–Ω–∏—è–º–∏" –¥–ª—è Telegram Mini Apps.

–í–∞—à–∏ —Ä–∞—Å—Ç–µ–Ω–∏—è "–æ–±—â–∞—é—Ç—Å—è" —Å –≤–∞–º–∏ –∏ –Ω–∞–ø–æ–º–∏–Ω–∞—é—Ç –æ –ø–æ–ª–∏–≤–µ!

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü—Ä–æ—Ñ–∏–ª–∏ —Ä–∞—Å—Ç–µ–Ω–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏–π —Å —Ñ–æ—Ç–æ, –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∏ –≤–∏–¥–æ–º
- –í—ã–±–æ—Ä –∏–∑ –±–∞–∑—ã –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç–Ω—ã—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –≥–æ—Ä—à–∫–∞ –∏ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ "—Ö–∞—Ä–∞–∫—Ç–µ—Ä—ã" –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞—Å—Ç–µ–Ω–∏—è

### –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø–æ–ª–∏–≤–µ
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞—Å—Ç–µ–Ω–∏—è
- **–£—á—ë—Ç —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏**: –∑–∏–º–æ–π –ø–æ–ª–∏–≤ –Ω–∞ 25% —Ä–µ–∂–µ, –ª–µ—Ç–æ–º ‚Äî —á–∞—â–µ
- Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram Bot
- –†–∞—Å—Ç–µ–Ω–∏—è "–ø–∏—à—É—Ç" —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞!

### –•–∞—Ä–∞–∫—Ç–µ—Ä—ã —Ä–∞—Å—Ç–µ–Ω–∏–π
- üòä **–î—Ä—É–∂–µ–ª—é–±–Ω—ã–π** ‚Äî –æ–±—â–∏—Ç–µ–ª—å–Ω—ã–π –∏ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π
- üò≥ **–ó–∞—Å—Ç–µ–Ω—á–∏–≤—ã–π** ‚Äî —Ç–∏—Ö–∏–π –∏ —Å–∫—Ä–æ–º–Ω—ã–π
- üé≠ **–î—Ä–∞–º–∞—Ç–∏—á–Ω—ã–π** ‚Äî —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏ —è—Ä–∫–∏–π
- üßò **–ú—É–¥—Ä—ã–π** ‚Äî —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π –∏ —Å–ø–æ–∫–æ–π–Ω—ã–π
- üéâ **–ò–≥—Ä–∏–≤—ã–π** ‚Äî –≤–µ—Å—ë–ª—ã–π –∏ —ç–Ω–µ—Ä–≥–∏—á–Ω—ã–π

### –°–æ–≤–µ—Ç—ã –ø–æ —É—Ö–æ–¥—É
- –†–µ–∂–∏–º –æ—Å–≤–µ—â–µ–Ω–∏—è
- –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π —Ä–µ–∂–∏–º
- –í–ª–∞–∂–Ω–æ—Å—Ç—å –≤–æ–∑–¥—É—Ö–∞
- –ü–æ–¥–∫–æ—Ä–º–∫–∞
- –ü–µ—Ä–µ—Å–∞–¥–∫–∞

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Frontend
- React 18 + TypeScript
- Vite
- Tailwind CSS
- Zustand (state management)
- React Router
- Telegram Mini Apps SDK

### Backend
- Node.js + Express
- TypeScript
- Prisma ORM
- PostgreSQL
- node-telegram-bot-api
- node-cron (scheduling)

## üöÄ –ó–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js 18+
- PostgreSQL 14+
- Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/your-username/stoneflower.git
cd stoneflower
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend

```bash
cd backend

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env:
# DATABASE_URL="postgresql://user:password@localhost:5432/stoneflower"
# TELEGRAM_BOT_TOKEN="your_bot_token"
# TELEGRAM_WEBAPP_URL="https://your-domain.com"

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma –∫–ª–∏–µ–Ω—Ç–∞
npm run db:generate

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
npm run db:push

# –ó–∞–ø—É—Å–∫ –≤ dev —Ä–µ–∂–∏–º–µ
npm run dev
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend

```bash
cd frontend

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ –≤ dev —Ä–µ–∂–∏–º–µ
npm run dev
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —É @BotFather
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `.env`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Menu Button:
   ```
   /setmenubutton
   –í—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞
   –û—Ç–ø—Ä–∞–≤—å—Ç–µ URL: https://your-domain.com
   –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: üåø –û—Ç–∫—Ä—ã—Ç—å
   ```

### 5. –î–ª—è production

```bash
# Backend
cd backend
npm run build
npm start

# Frontend
cd frontend
npm run build
# –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ dist/ –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
stoneflower/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schema.prisma      # –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.ts           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/        # Auth middleware
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/            # API —Ä–æ—É—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/             # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/             # –£—Ç–∏–ª–∏—Ç—ã (—Å–µ–∑–æ–Ω—ã, –ø–æ–ª–∏–≤, —Å–æ–æ–±—â–µ–Ω–∏—è)
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/        # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/             # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/             # Zustand store
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/             # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/             # API, Telegram, –¥–∞—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles/            # CSS —Å—Ç–∏–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îî‚îÄ‚îÄ README.md
```

## üå± –ë–∞–∑–∞ —Ä–∞—Å—Ç–µ–Ω–∏–π

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–∞ –±–∞–∑–∞ –∏–∑ 10 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç–Ω—ã—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π:

- –§–∏–∫—É—Å –ë–µ–Ω–¥–∂–∞–º–∏–Ω–∞
- –ú–æ–Ω—Å—Ç–µ—Ä–∞
- –°–∞–Ω—Å–µ–≤–∏–µ—Ä–∏—è (–¢—ë—â–∏–Ω —è–∑—ã–∫)
- –°–ø–∞—Ç–∏—Ñ–∏–ª–ª—É–º (–ñ–µ–Ω—Å–∫–æ–µ —Å—á–∞—Å—Ç—å–µ)
- –•–ª–æ—Ä–æ—Ñ–∏—Ç—É–º
- –ü–æ—Ç–æ—Å (–≠–ø–∏–ø—Ä–µ–º–Ω—É–º)
- –î—Ä–∞—Ü–µ–Ω–∞ –æ–∫–∞–π–º–ª—ë–Ω–Ω–∞—è
- –ó–∞–º–∏–æ–∫—É–ª—å–∫–∞—Å (–î–æ–ª–ª–∞—Ä–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ)
- –ê–ª–æ—ç –≤–µ—Ä–∞
- –ö–∞–ª–∞—Ç–µ—è

## üìÖ –†–∞—Å—á—ë—Ç –ø–æ–ª–∏–≤–∞

–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–∏–≤–∞ —É—á–∏—Ç—ã–≤–∞–µ—Ç:

1. **–ë–∞–∑–æ–≤–∞—è —á–∞—Å—Ç–æ—Ç–∞** ‚Äî –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–∏–¥–∞ —Ä–∞—Å—Ç–µ–Ω–∏—è
2. **–°–µ–∑–æ–Ω –≥–æ–¥–∞**:
   - –ó–∏–º–∞: √ó0.75 (—Ä–µ–∂–µ)
   - –í–µ—Å–Ω–∞/–û—Å–µ–Ω—å: √ó1.0
   - –õ–µ—Ç–æ: √ó1.25 (—á–∞—â–µ)
3. **–†–∞–∑–º–µ—Ä –≥–æ—Ä—à–∫–∞**:
   - –ú–∞–ª–µ–Ω—å–∫–∏–π: √ó0.85
   - –°—Ä–µ–¥–Ω–∏–π: √ó1.0
   - –ë–æ–ª—å—à–æ–π: √ó1.15

## üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è:
- –í 9:00 —É—Ç—Ä–∞
- –í 18:00 –≤–µ—á–µ—Ä–∞

–ü–æ –º–æ—Å–∫–æ–≤—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏).

## üìù API Endpoints

### Plants
- `GET /api/plants` ‚Äî —Å–ø–∏—Å–æ–∫ —Ä–∞—Å—Ç–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/plants/:id` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞—Å—Ç–µ–Ω–∏–∏
- `POST /api/plants` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ç–µ–Ω–∏–µ
- `PUT /api/plants/:id` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—Ç–µ–Ω–∏–µ
- `DELETE /api/plants/:id` ‚Äî —É–¥–∞–ª–∏—Ç—å —Ä–∞—Å—Ç–µ–Ω–∏–µ
- `POST /api/plants/:id/care` ‚Äî –∑–∞–ø–∏—Å–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ —É—Ö–æ–¥—É
- `GET /api/plants/:id/messages` ‚Äî —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞—Å—Ç–µ–Ω–∏—è

### Species
- `GET /api/species` ‚Äî —Å–ø–∏—Å–æ–∫ –≤–∏–¥–æ–≤ —Ä–∞—Å—Ç–µ–Ω–∏–π
- `GET /api/species/search?q=...` ‚Äî –ø–æ–∏—Å–∫ –≤–∏–¥–æ–≤
- `GET /api/species/:id` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∏–¥–µ

### Users
- `GET /api/users/me` ‚Äî —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `PUT /api/users/me/settings` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## ü§ù Contributing

Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!

## üìÑ License

MIT
